/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table if exists Rdv CASCADE 
drop table if exists User CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Rdv (idR bigint not null, date date, heure time, eleve_idU bigint, prof_idU bigint, primary key (idR))
create table User (DTYPE varchar(31) not null, idU bigint not null, matricule integer not null, nom varchar(255), prenom varchar(255), sujet varchar(255), grade double, primary key (idU))
alter table Rdv add constraint FKixoj1kp84fu3dw5ewdou7qp7b foreign key (eleve_idU) references User
alter table Rdv add constraint FKpcngxr3xx67cytn3diwyyepxv foreign key (prof_idU) references User
INSERT INTO USER VALUES('Prof',1,360,'Gipsz','Jakab','MAN',NULL)
INSERT INTO USER VALUES('Prof',2,325,'Miklos','Zoltan','IA',NULL)
INSERT INTO USER VALUES('Prof',3,741,'Barais','Olivier','TAA',NULL)
INSERT INTO USER VALUES('Eleve',4,704,'Miklos','Erika',NULL,15.0E0)
INSERT INTO USER VALUES('Eleve',5,874,'Debrandt','William',NULL,6.0E0)
INSERT INTO USER VALUES('Eleve',6,332,'Favorou','Harold',NULL,13.0E0)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 7
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
